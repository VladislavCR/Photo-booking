<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Test page!</title>

  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
    integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4"
    crossorigin="anonymous">
</head>
<body>
  <div class="jumbotron">
    <h1>Test page!</h1>
    {% if user.is_authenticated %}
          <p> Token:  {{ user.auth_token }} </p>
          {% for ass in backends.associated %}
          <p> Oauth_token: {{ ass.extra_data.access_token }} </p>
          <p> Extra_data:  {{ ass.extra_data }} </p>
          <p> Provider url: {{ ass.provider }} </p>
          <p> Uid: {{ ass.uid }} </p>
          {% endfor %}
        <p>Logged as {{ user.first_name }} {{ user.last_name }} {{ user.email }}</p>

        <p> user_id: {{ user.id }} </p>
        <a class="btn btn-primary" href="{% url 'api:logout' %}">Logout</a>
    {% else %}
      <a class="btn btn-primary" href="{% url 'api:social:begin' 'google-oauth2' %}">
        Google login
      </a>

      <a class="btn btn-primary" href="{% url 'api:social:begin' 'vk-oauth2' %}">
        Vkontakte login
      </a>
    {% endif %}
  </div>

</body>
</html> 